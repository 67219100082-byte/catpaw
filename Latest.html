<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Latest</title>

<script type="text/javascript">
function MM_swapImgRestore() {
  var i,x,a=document.MM_sr;
  for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}
function MM_preloadImages() {
  var d=document;
  if(d.images){
    if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments;
    for(i=0;i<a.length;i++)
      if(a[i].indexOf("#")!=0){
        d.MM_p[j]=new Image;
        d.MM_p[j++].src=a[i];
      }
  }
}
function MM_findObj(n, d) {
  var p,i,x;
  if(!d) d=document;
  if((p=n.indexOf("?"))>0&&parent.frames.length){
    d=parent.frames[n.substring(p+1)].document;
    n=n.substring(0,p);
  }
  if(!(x=d[n])&&d.all) x=d.all[n];
  for(i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  if(!x && d.getElementById) x=d.getElementById(n);
  return x;
}
function MM_swapImage() {
  var i,j=0,x,a=MM_swapImage.arguments;
  document.MM_sr=new Array;
  for(i=0;i<(a.length-2);i+=3)
    if((x=MM_findObj(a[i]))!=null){
      document.MM_sr[j++]=x;
      if(!x.oSrc) x.oSrc=x.src;
      x.src=a[i+2];
    }
}
</script>
</head>

<body onLoad="MM_preloadImages(
'../ปุ่มนำทาง/1.gif','../ปุ่มนำทาง/2.gif','../ปุ่มนำทาง/11.gif',
'../ปุ่มนำทาง/3.gif','../ปุ่มนำทาง/5.gif','../ปุ่มนำทาง/10.gif',
'../ปุ่มนำทาง/8.gif','../ปุ่มนำทาง/6.gif',
'../ปุ่มนำทาง/Home 125 x 50 px (1).gif',
'../ปุ่มนำทาง/4.gif','../ปุ่มนำทาง/9.gif'
)">

<!-- HEADER -->
<table width="1500" border="1">
  <tr>
    <td><img src="tab/latest.png" width="1500" height="200" alt=""/></td>
  </tr>
</table>

<!-- MENU -->
<table width="1509" border="1">
  <tr>
        <th width="127"><a href="index.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image2','','images/home.gif',1)"><img src="images/home.png" alt="" width="125" height="50" id="Image2"></a></th>

  <th width="127"><a href="Cat Adoption.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image3','','images/adopt.gif',1)"><img src="images/adopt.png" alt="" width="125" height="50" id="Image3"></a></th>

  <th width="127"><a href="Latest.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image4','','images/latest.gif',1)"><img src="images/latest.png" alt="" width="125" height="50" id="Image4"></a></th>

  <th width="127"><a href="Find a home for a cat.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image5','','images/find.gif',1)"><img src="images/find.png" alt="" width="125" height="50" id="Image5"></a></th>

  <th width="127"><a href="emergency cat.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image6','','images/emergency.gif',1)"><img src="images/emergency.png" alt="" width="125" height="50" id="Image6"></a></th>

  <th width="128"><a href="cat review.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image12','','images/review.gif',1)"><img src="images/review.png" alt="" width="125" height="50" id="Image12"></a></th>

  <th width="138"><a href="Cat Clinic.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image11','','images/clinic.gif',1)"><img src="images/clinic.png" alt="" width="125" height="50" id="Image11"></a></th>

  <th width="133"><a href="cat shop.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image10','','images/shop.gif',1)"><img src="images/shop.png" alt="" width="125" height="50" id="Image10"></a></th>

  <th width="140"><a href="Special projects.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image9','','images/project.gif',1)"><img src="images/project.png" alt="" width="125" height="50" id="Image9"></a></th>

  <th width="140"><a href="cart.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image19','','images/cart.gif',1)"><img src="images/cart.png" alt="" width="125" height="50" id="Image19"></a></th>

  <th width="125"><a href="login.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image7','','images/login.gif',1)"><img src="images/login.png" alt="" width="125" height="50" id="Image7"></a></th>
  </tr>
</table>

<!-- CONTENT -->
<h2>แมวที่รอหาบ้าน (เพิ่มล่าสุด)</h2>

<table width="1510" border="1">
  <tbody id="newCatList"></tbody>
</table>

<script>
let cats = JSON.parse(localStorage.getItem("cats")) || [];
let html = "";

if (cats.length === 0) {
  html = `
    <tr>
      <td colspan="5" align="center">
        ยังไม่มีข้อมูลแมวที่เพิ่มเข้ามา
      </td>
    </tr>
  `;
} else {
  cats.reverse();

  for (let i = 0; i < cats.length; i++) {
    if (i % 5 === 0) html += "<tr>";

    html += `
      <td width="302" valign="top" align="center">
        <img src="${cats[i].img && cats[i].img.trim() !== '' 
          ? cats[i].img 
          : 'https://via.placeholder.com/250?text=No+Image'}" width="250"><br><br>
        <strong>เพศ</strong> ${cats[i].gender}
        <strong> Age</strong> ${cats[i].age}m<br>
        <strong>จังหวัด</strong> ${cats[i].province}
        <strong> อำเภอ</strong> ${cats[i].district}<br>
        <strong>Contact</strong> ${cats[i].phone}
      </td>
    `;

    if (i % 5 === 4) html += "</tr>";
  }

  if (cats.length % 5 !== 0) html += "</tr>";
}

document.getElementById("newCatList").innerHTML = html;
</script>
<footer><table width="1524" border="1">
  <tbody>
    <tr>
      <th width="1514" height="104" scope="col"><img src="tab/job.png" width="1500" height="100" alt=""/></th>
    </tr>
  </tbody>
</table>
</footer>
</body>
</html>
